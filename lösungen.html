<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vivenna - Lösungen</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        html {
            font-size: 16px; /* 1rem = 16px */
        }
        /* Zusammengeführte und angepasste Body-Regel */
        body {
            font-family: 'Open Sans', sans-serif;
            text-align: center; /* Zentriert Inline- und Inline-Block-Elemente */
            min-height: 100vh; /* Behält die Mindesthöhe bei */
            background-color: #fff;
            /* Padding für Platz unter der fixierten Navigationsleiste und an den Seiten */
            padding: calc(2rem + 70px) 4rem 2rem 4rem; /* Oben: Platz für Nav + 2rem, Seiten/Unten: 4rem (vergrößert) */
            margin: 0; /* Entfernt Standard-Body-Margin */
            box-sizing: border-box; /* Stellt sicher, dass Padding in die Gesamtbreite einbezogen wird */
        }

                /* Navigation Bar Styling */
                .main-nav {
            display: grid; /* Geändert von flex zu grid */
            grid-template-columns: 1fr auto 1fr; /* Linker Bereich (flexibel) | Menü (Inhaltsbreite) | Rechter Bereich (flexibel) */
            align-items: center; /* Zentriert die Elemente vertikal in der Navigationsleiste */
            padding: 0.75rem 2rem; /* Innenabstand für die gesamte Navigationsleiste (links/rechts wichtig für die 1fr Spalten) */
            gap: 1rem; /* Behält einen Abstand zwischen den Grid-Spalten (Logo-Menü, Menü-Button) */
            background-color: #fff; /* Hintergrundfarbe für die Navigationsleiste */
            border-bottom: 1px solid #eee; /* Dezente Trennlinie */
            position: fixed; /* Fixiert die Navigationsleiste am oberen Bildschirmrand */
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000; /* Stellt sicher, dass die Navigationsleiste über anderen Inhalten liegt */
            box-sizing: border-box; /* Padding und Border werden in die Gesamtbreite/höhe einbezogen */
            transition: background-color 0.2s ease-in-out;
        }

        .nav-logo img {
            display: block; /* Verhindert zusätzlichen Leerraum unter dem Bild */
            /* Die Höhe wird bereits inline im HTML gesetzt: style="height: 2.5rem;" */
        }

        /* Sicherstellen, dass Logo und Button in den richtigen Grid-Spalten sind (optional, meist automatisch) */
        .nav-logo {
            grid-column: 1 / 2; /* Logo in der ersten Spalte */
            justify-self: start; /* Logo am Anfang der Spalte ausrichten */
        }
        .nav-button {
            grid-column: 3 / 4; /* Button in der dritten Spalte */
            justify-self: end; /* Button am Ende der Spalte ausrichten */
        }


        .nav-menu {
            list-style: none; /* Entfernt die Aufzählungspunkte */
            margin: 0;
            padding: 0;
            display: flex; /* Ordnet Menüpunkte in einer Reihe an */
            gap: 0.1rem; /* Noch weiter reduzierter Abstand zwischen den Menüpunkten */
            
            /* Entfernt: position: absolute; left: 50%; transform: translateX(-50%); */
            
            grid-column: 2 / 3; /* Platziert das Menü in der mittleren 'auto' Spalte */
            justify-self: center; /* Zentriert den .nav-menu Block selbst in seiner Grid-Spalte (max-content) */
            /* justify-content: center; ENTFERNT: Die Zentrierung von "Services" erfolgt nun durch margin:auto auf dem li */
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500; /* Etwas dickere Schrift für Menüpunkte */
            transition: color 0.2s ease-in-out;
        }

        .nav-menu a:hover {
            color: #3ba4cf; /* Farbe beim Hover, passend zu highlight-praxis */
        }

        .nav-menu a.active-link {
            text-decoration: underline;
            text-decoration-color: #000; /* Farbe des Unterstrichs, passend zur Hover-Farbe */
            text-underline-offset: 4px;    /* Abstand des Unterstrichs zum Text */
            /* Optional: Textfarbe ebenfalls ändern, wenn aktiv */
            /* color: #3ba4cf; */
        }

        /* Ändert die Farbe des Unterstrichs, wenn ein aktiver Link gehovert wird */
        .nav-menu a.active-link:hover {
            text-decoration-color: #3ba4cf; /* Farbe des Unterstrichs beim Hovern des aktiven Links */
        }

        /* Optional: Stil für den Hauptmenüpunkt, wenn ein Untermenüpunkt aktiv ist */
        .nav-menu > li > a.active-parent {
            color: #3ba4cf; /* Hebt den übergeordneten Punkt farblich hervor */
        }

        /* Styling für animierte Navigationslinks */
        .nav-menu a.animated-nav-link {
            position: relative; /* Für die absolute Positionierung der inneren Spans */
            overflow: hidden;   /* Um den Text außerhalb abzuschneiden - WICHTIG */
            display: inline-block; /* Damit es eine definierte Box für die Animation hat */
            vertical-align: middle; /* Bessere vertikale Ausrichtung, falls nötig */

            /* WICHTIG: Höhe für den Link definieren, da der ursprüngliche Inhalt entfernt wurde.
               Diese Werte müssen ggf. an das Design der Links angepasst werden.
               Die .nav-menu .sub-menu a hatten z.B. padding: 0.6rem 1.2rem;
               Hauptmenü-Links hatten implizite Höhe durch Schrift.
            */
            font-weight: 500; /* Schriftgewicht beibehalten */
            line-height: 1.4; /* Eine Basis-Zeilenhöhe für den Text */
            padding-top: 1.3em;    /* Vertikales Padding (hinzugefügt für Konsistenz, falls padding-bottom allein war) */
            padding-bottom: 1.3em; /* Vertikales Padding */
            padding-left: 1.2em;   /* Wiederhergestelltes horizontales Padding */
            padding-right: 1.2em;  /* Wiederhergestelltes horizontales Padding */
            box-sizing: border-box;/* NEU: Stellt sicher, dass Padding in min-width einberechnet wird */

            -webkit-transform: translateZ(0); /* Force hardware acceleration on WebKit */
            transform: translateZ(0); /* Force hardware acceleration */
            color: #333; /* Standard-Textfarbe wiederherstellen */
            text-decoration: none; /* Standard-Textdeko wiederherstellen */
        }

        .nav-menu a.animated-nav-link .text-original,
        .nav-menu a.animated-nav-link .text-hover {
            display: block; 
            position: absolute;
            left: 0;
            top: 0; 
            width: 100%;
            height: 100%; /* Bezieht sich auf die Höhe von a.animated-nav-link (inkl. Padding) */
            transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1); /* Smooth-Transition */
            display: flex; /* Text vertikal und horizontal zentrieren */
            align-items: center;
            justify-content: center;
            white-space: nowrap; /* Verhindert Umbruch bei längeren Menüpunkten */
        }

        /* Stelle sicher, dass die Hover-Farbe und aktive Link-Stile auch für animierte Links gelten */
        .nav-menu a.animated-nav-link:hover {
            color: #3ba4cf; /* Farbe beim Hover, passend zu highlight-praxis */
        }

        /* ALT: Unterstrich war direkt auf dem a-Tag
        .nav-menu a.animated-nav-link.active-link {
            text-decoration: underline;
            text-decoration-color: #000;
            text-underline-offset: 4px;
        }
        .nav-menu a.animated-nav-link.active-link:hover {
            text-decoration-color: #3ba4cf;
        } */

        /* NEU: Unterstrich-Styling für aktive animierte Links auf die inneren Spans verlagert */
        .nav-menu a.animated-nav-link.active-link .text-original,
        .nav-menu a.animated-nav-link.active-link .text-hover {
            text-decoration: underline;
            text-decoration-color: #000; /* Standardfarbe für aktiven Unterstrich */
            text-underline-offset: 4px;
        }

        .nav-menu a.animated-nav-link .text-original {
            transform: translateY(0%);
        }

        .nav-menu a.animated-nav-link .text-hover {
            transform: translateY(100%); /* Startet unterhalb des sichtbaren Bereichs */
        }

        /* NEU: Ändert die Farbe des Unterstrichs, wenn ein aktiver animierter Link gehovert wird */
        .nav-menu a.animated-nav-link.active-link:hover .text-original,
        .nav-menu a.animated-nav-link.active-link:hover .text-hover {
            text-decoration-color: #3ba4cf; /* Hover-Farbe für Unterstrich */
        }

        /* Animation wird durch .hovered Klasse (via JavaScript auf a.animated-nav-link) ausgelöst */
        .nav-menu a.animated-nav-link.hovered .text-original {
            transform: translateY(-120%); /* Bewegt sich weiter nach oben raus, um "g" zu verstecken */
        }

        .nav-menu a.animated-nav-link.hovered .text-hover {
            transform: translateY(0%); /* Bewegt sich von unten rein */
        }

        /* Rückwärtsanimation, wenn .removingHover Klasse (via JavaScript auf a.animated-nav-link) gesetzt ist */
        .nav-menu a.animated-nav-link.removingHover .text-original {
            transform: translateY(0%); /* Zurück zur Ausgangsposition */
        }

        .nav-menu a.animated-nav-link.removingHover .text-hover {
            transform: translateY(100%); /* Zurück nach unten (aus dem sichtbaren Bereich) */
        }

        /* Sub-menu Styling */
        .nav-menu li { /* Wichtig für die Positionierung des Untermenüs */
            position: relative;
        }
        /* Spezifische Anpassung für das Elternelement des Megamenüs */
        .nav-menu li.has-megamenu {
            position: static; /* Erlaubt dem .sub-menu, sich relativ zum Viewport (fixed) zu positionieren */

            margin-left: auto;  /* HINZUGEFÜGT: Zentriert dieses Element im Flex-Container */
            margin-right: auto; /* HINZUGEFÜGT: Zentriert dieses Element im Flex-Container */
        }

        /* Allgemeine Stile für normale (nicht-Megamenü) Submenüs */
        .nav-menu li:not(.has-megamenu) .sub-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #fff;
            border: 1px solid #eee;
            list-style: none;
            padding: 0.5rem 0;
            margin: 0;
            min-width: 220px;
            z-index: 1001;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 0 0 0.25rem 0.25rem;
        }

        .nav-menu li:not(.has-megamenu):hover > .sub-menu {
            display: block;
        }

        .nav-menu li:not(.has-megamenu) .sub-menu a {
            display: block;
            padding: 0.6rem 1.2rem;
            color: #333;
            font-weight: 500;
            text-decoration: none;
            white-space: nowrap;
            transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }

        .nav-menu li:not(.has-megamenu) .sub-menu a:hover {
            color: #3ba4cf;
            background-color: #f8f8f8;
        }

        /* --- STILE FÜR DAS SERVICES MEGAMENÜ (via ID) --- */
        #services-megamenu {
            /* Positionierung und Aussehen des Megamenü-Containers */
            position: fixed; /* Feste Position relativ zum Viewport */
            top: 80px; /* Höhe der Navigationsleiste (Logo 3.5rem + Padding 0.75rem oben/unten = 56px + 12px + 12px = 80px) */
            left: 0; /* Beginnt am linken Rand des Viewports */
            right: 0; /* Erstreckt sich bis zum rechten Rand des Viewports */
            background-color: rgba(255, 255, 255, 0.98); /* Leicht transparenter Hintergrund */
            backdrop-filter: blur(5px); /* Optional: Weichzeichner-Effekt für den Hintergrund */
            border-top: 1px solid #eaeaea;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            z-index: 999; /* Unter der Hauptnavigation (z-index: 1000) */
            padding: 2.5rem 4rem; /* Innenabstand (oben/unten, links/rechts) */
            box-sizing: border-box;

            /* Grid-Layout für die Service-Items */
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 Spalten mit gleicher Breite */
            gap: 2rem; /* Abstand zwischen den Spalten und Zeilen */
            
            /* Standard-Listen-Styling entfernen */
            list-style: none;
            margin: 0;

            /* Animation für das Einblenden */
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }

        /* Megamenü beim Hovern über dem "Services"-Link anzeigen */
        .nav-menu li.has-megamenu:hover > #services-megamenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* Styling für die einzelnen Listenelemente (Zellen) im Megamenü */
        #services-megamenu li {
            position: static; /* Überschreibt ggf. position:relative von .nav-menu li */
            /* Die `li` sind die Grid-Items. Kein zusätzliches Padding hier, da der Link den Inhalt formatiert. */
        }

        /* Styling für die Links (klickbare Bereiche) in den Megamenü-Zellen */
        #services-megamenu a.sub-menu-item {
            display: flex; /* Icon und Text nebeneinander anordnen */
            align-items: flex-start; /* Oben ausrichten, falls Beschreibungen unterschiedlich lang sind */
            padding: 1.25rem; /* Innenabstand für jeden Service-Block */
            text-decoration: none;
            border-radius: 6px; /* Abgerundete Ecken für die Blöcke */
            background-color: transparent;
            transition: background-color 0.2s ease-in-out, transform 0.2s ease-out, box-shadow 0.2s ease-out;
            height: 100%; /* Stellt sicher, dass der klickbare Bereich die Zelle füllt */
            box-sizing: border-box;
            border: 1px solid transparent; /* Für einen subtilen Rand beim Hover */
        }

        #services-megamenu a.sub-menu-item:hover {
            background-color: transparent; /* Hintergrundfarbe bleibt beim Hovern gleich */
            transform: translateY(-3px); /* Leichter Anhebe-Effekt */
            border-color: transparent; 
            box-shadow: 0 6px 12px rgba(0,0,0,0.1); /* Schatten-Effekt beim Hovern */
        }

        /* Styling für die Icons im Megamenü */
        #services-megamenu .sub-menu-icon {
            width: 36px; /* Größe des Icons */
            height: 36px;
            margin-right: 1rem; /* Abstand zum Text */
            flex-shrink: 0; /* Verhindert, dass das Icon schrumpft */
            color: #3ba4cf; /* Standardfarbe für Icons (kann via SVG `fill="currentColor"` genutzt werden) */
        }

        /* Container für Service-Titel und -Beschreibung */
        #services-megamenu .sub-menu-text {
            display: flex;
            flex-direction: column; /* Titel und Beschreibung untereinander */
            text-align: left; /* Text linksbündig */
        }

        /* Styling für den Titel des Services */
        #services-megamenu .sub-menu-title {
            font-weight: 600; /* Etwas fetter */
            font-size: 1.05rem; /* Schriftgröße Titel */
            color: #333; /* Textfarbe Titel */
            margin-bottom: 0.35rem; /* Abstand zur Beschreibung */
        }

        /* Styling für die Kurzbeschreibung des Services */
        #services-megamenu .sub-menu-description {
            font-size: 0.9rem; /* Schriftgröße Beschreibung */
            color: #555; /* Textfarbe Beschreibung */
            line-height: 1.5; /* Zeilenhöhe für bessere Lesbarkeit */
        }

        /* Sicherstellen, dass generische .nav-menu .sub-menu a Stile nicht das Megamenü stören */
        #services-megamenu a { /* Gilt für alle a-Tags innerhalb des Megamenüs, wird aber von a.sub-menu-item spezifischer überschrieben */
            /* Überschreibt/resettet generische Stile, die hier nicht passen */
            display: flex; /* Wird von .sub-menu-item gesetzt */
            padding: 0;    /* Padding wird von .sub-menu-item gehandhabt */
            color: inherit;/* Farbe wird von .sub-menu-title / .sub-menu-description gehandhabt */
            font-weight: normal; /* Schriftgewicht wird von .sub-menu-title gehandhabt */
            white-space: normal; /* Erlaubt Umbruch für die Beschreibung */
            background-color: transparent; /* Hintergrund wird von .sub-menu-item:hover gehandhabt */
        }
        #services-megamenu a:hover {
            /* Hover-Effekte werden von .sub-menu-item:hover gehandhabt */
            color: inherit;
            background-color: transparent;
        }

        .button {
            position: relative;
            width: 230px; /* Breite des Buttons */
            height: 50px; /* Höhe des Buttons */
            background-color: #237fc1; /* Hintergrundfarbe des Buttons */
            color: white; /* Textfarbe */
            border: 2px;
            border-color: #237fc1; 
            border-radius: 10px; /* Abgerundete Ecken */
            font-size: 18px; /* Schriftgröße */
            font-weight: bold; /* Fettdruck */
            cursor: pointer; /* Zeiger-Cursor beim Hover */
        }


        /* Allgemeine Stile für normale (nicht-Megamenü) Submenüs - Sicherstellen, dass diese nicht mit Megamenü kollidieren */
        .nav-menu li:not(.has-megamenu) > .sub-menu {
            display: none; /* Standardmäßig ausgeblendet */
            position: absolute;
            top: 100%; /* Positioniert das Untermenü direkt unter dem Elternelement */
            left: 0;
            background-color: #fff; /* Hintergrundfarbe passend zur Navigationsleiste */
            border: 1px solid #eee; /* Dezenter Rand, passend zur Navigationsleiste */
            list-style: none;
            padding: 0.5rem 0; /* Innenabstand für den Untermenü-Container */
            margin: 0;
            min-width: 220px; /* Mindestbreite, damit "Webentwicklung" gut Platz hat */
            z-index: 1001; /* Stellt sicher, dass das Untermenü über anderen Elementen liegt */
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Leichter Schatten für Tiefe */
            border-radius: 0 0 0.25rem 0.25rem; /* Abgerundete untere Ecken */
        }

        /* Zeigt normale Untermenüs beim Hovern an, aber NICHT das Megamenü (das hat eigene Hover-Logik) */
        .nav-menu li:not(.has-megamenu):hover > .sub-menu {
            display: block; /* Zeigt das Untermenü beim Hovern über dem Elternelement an */
        }

        .nav-menu li:not(.has-megamenu) .sub-menu a {
            display: block; /* Macht den gesamten Bereich des Links klickbar */
            padding: 0.6rem 1.2rem; /* Innenabstand für die Links, konsistent mit .nav-button */
            color: #333; /* Textfarbe wie im Hauptmenü */
            font-weight: 500; /* Schriftgewicht wie im Hauptmenü */
            text-decoration: none;
            white-space: nowrap; /* Verhindert unerwünschten Zeilenumbruch */
            transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }

        .nav-menu li:not(.has-megamenu) .sub-menu a:hover {
            color: #3ba4cf; /* Hover-Farbe wie im Hauptmenü */
            background-color: #f8f8f8; /* Leichter Hintergrund beim Hovern */
        }

        .nav-button a {
            display: inline-block;
            text-decoration: none;
            background-color: #237fc1; /* Passend zu highlight-praxis */
            color: #fff;
            padding: 0.6rem 1.2rem;
            border-radius: 0.25rem; /* 4px */
            font-weight: 500;
            transition: background-color 0.2s ease-in-out;
        }


        .nav-button a:hover {
            background-color: #0e467b;
        }

        /* Welcome Section Styling */
        .welcome-section {
            display: flex; /* Ermöglicht Flexbox-Layout für Kindelemente */
            align-items: center; /* Zentriert Kindelemente vertikal (das .welcome-content), wie ursprünglich */
            /* Nimmt die Höhe des Viewports abzüglich der Navigationsleiste und des oberen Body-Paddings ein */
            min-height: calc(100vh - (2rem + 70px)); /* 70px für Nav, 2rem für Body-Padding-Top */
            box-sizing: border-box;
            margin-top: 0.2rem; /* Angepasster Abstand nach oben, etwas weniger als die ursprünglichen 3rem */
        }

        .welcome-content {
            display: flex;
            width: 100%; /* Nimmt die volle Breite des .welcome-section ein */
            align-items: center; /* Zentriert Text- und Icon-Bereich vertikal zueinander */
        }

        .welcome-text {
            flex-basis: 50%; /* Nimmt die linke Hälfte ein */
            padding-right: 1rem; /* Abstand zum Icon-Bereich */
            text-align: left; /* Überschreibt text-align: center vom Body */
        }

        .welcome-text .small-title {
            color: #3ba4cf;
            font-size: 25px;
            font-weight: 600; /* Etwas fetter für Hervorhebung */
            margin-bottom: 0.75rem; /* Abstand zum großen Titel */
        }

        .welcome-text .large-title {
            font-size: 95px;
            color: black;
            font-weight: 700; /* Fett für den Haupttitel */
            line-height: 1.15; /* Zeilenhöhe für mehrzeiligen Text */
            margin: 0; /* Entfernt Standard-Margin von h1 */
        }

        .welcome-icon-container {
            flex-basis: 50%; /* Nimmt die rechte Hälfte ein */
            display: flex;
            justify-content: center; /* Zentriert das Icon horizontal */
            align-items: center; /* Zentriert das Icon vertikal */
            padding-left: 1rem; /* Abstand zum Text-Bereich */
        }

        .puzzle-icon {
            width: 524px; 
            height: auto; 
            position: absolute;
            left: 75%;     
            top: 50%;   
            transform: translate(-50%, -50%); 
        }

        /* Anpassung für kleinere Bildschirme (optional, aber empfohlen) */
        @media (max-width: 768px) {
            .welcome-content {
                flex-direction: column; /* Text und Icon untereinander */
                text-align: center; /* Zentriert Text auf kleinen Bildschirmen */
            }
            .welcome-text {
                text-align: center; /* Stellt sicher, dass Text zentriert ist */
                margin-bottom: 2rem; /* Abstand zwischen Text und Icon */
            }
        }

        #LückeZweiterBereich {
            margin-top: 5rem;
            margin-left: 100px; /* Increased left margin */
            color: #3ba4cf;
            text-align: left;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 20px;
        }

        #LückeDritterBereich {
            margin-top: 7rem;
            margin-left: 100px; /* Increased left margin */
            color: #3ba4cf;
            text-align: left;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .Bereichtitel {
            font-size: 45px;
            font-weight: bold;
            color: #000;
            margin-top: 0.1rem; /* Abstand zum vorherigen Element */
            margin-left: 100px; /* Increased and unified left margin */
            text-align: left;
            margin-bottom: 20px
        }
        .untertitel {
            font-size: 25px;
            color: #000;
            margin-top: 0.5rem; 
            margin-left: 100px; /* Increased and unified left margin */
            text-align: left;
            font-weight: bold;
        }

        /* Feature Sections Styling */
        .features-list-section {
            padding-top: 4rem; /* Abstand zum Hero-Bereich */
            padding-bottom: 2rem; /* Abstand zum unteren Titel */
            max-width: 800px;
            /* Die vorherigen margin-left-Werte (4rem und 360px) werden entfernt bzw. ersetzt. */
            margin-left: 100px; /* Setzt den linken Rand auf 100px, passend zu den Überschriften */
            margin-right: 4rem; /* Symmetrical margin */
            text-align: left;
        }

        .feature-item {
            display: flex;
            align-items: center; /* Vertikale Zentrierung von Icon und Textblock */
            gap: 2.5rem; /* Abstand zwischen Icon und Text */
            margin-bottom: 4rem; /* Increased margin for more generous spacing */
            padding: 1rem 0; /* Etwas Innenabstand oben/unten für jedes Item */
            /* margin-left: 100px; entfernt, da .features-list-section bereits den linken Rand setzt */
        }

        .feature-icon {
            flex-shrink: 0; /* Verhindert, dass das Icon schrumpft */
            width: 200px; /* Feste Breite für die Icon-Spalte */
            max-height: 180px; /* Maximale Höhe für das Icon */
            /* max-width: fit-content; /* Ersetzt durch feste Breite und Flex-Zentrierung */
            /* text-align: center; /* Ersetzt durch Flex-Zentrierung */
            display: flex; /* Ermöglicht Flexbox für die Zentrierung des Kind-Elements (img) */
            justify-content: center; /* Zentriert das img horizontal */
            align-items: center;   /* Zentriert das img vertikal */
            margin-left: 3rem;
            margin-right: 1rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .feature-icon img {
            width: auto; /* Seitenverhältnis beibehalten */
            max-height: 150px;
            max-width: 100%; /* Stellt sicher, dass das Bild nicht breiter als die .feature-icon Spalte ist */
            display: block;
            /* margin-left: 0px; /* Nicht mehr nötig für Zentrierung, da der Parent (.feature-icon) dies via Flexbox übernimmt */
        }

        #zuGroß {
            max-width: 140px; /* Maximale Breite für*/
        }
        .feature-text-content h3 {
            font-family: 'Open Sans', sans-serif;
            font-size: 1.6rem; /* Angepasste Größe für Zwischenüberschriften */
            color: #000;
            margin-bottom: 0.75rem;
            font-weight: bold;
            /* margin-right: 100px; /* Entfernt, damit der Text den verfügbaren Platz in seiner Spalte nutzt */
            text-align: left;
        }

        .feature-text-content p {
            font-size: 1rem;
            color: #000;
            line-height: 1.6;
            margin-bottom: 0;
            /* margin-right: 100px; /* Entfernt, damit der Text den verfügbaren Platz in seiner Spalte nutzt */
            text-align: left;
            max-width: 900px;
        }

        #Farbe {
            color: #3ba4cf; /* Farbe für den Buchstaben "D" */
        }

        #Verfärbung {
            color: #3ba4cf;
        }

        .großerTitel {
            font-size: 48.7px; 
            color: #000;
            margin-top: 3.5rem; /* Abstand nach oben */
            margin-bottom: 2rem; /* Abstand nach unten */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="main-nav">
        <div class="nav-logo">
            <a href="/">
                <img src="assets/logo.png" alt="vivenna Logo" style="height: 3.5rem;">
            </a>
        </div>
        <ul class="nav-menu">
            <li>
                <a href="/" class="animated-nav-link"> <!-- animated-nav-link Klasse und Struktur für Animation hinzugefügt -->
                    <span class="text-original">Home</span>
                    <span class="text-hover">Home</span>
                </a>
            </li>
            <li>
                <a href="/lösungen" class="animated-nav-link"> <!-- animated-nav-link Klasse und Struktur für Animation hinzugefügt -->
                    <span class="text-original">Lösungen</span>
                    <span class="text-hover">Lösungen</span>
                </a>
            </li>
            <li class="has-megamenu"> <!-- "Services" wird zum Elternelement für das Dropdown, Klasse für Megamenü hinzugefügt -->
                <a href="/services" class="animated-nav-link"> <!-- animated-nav-link Klasse und Struktur für Animation hinzugefügt -->
                    <span class="text-original">Services</span>
                    <span class="text-hover">Services</span>
                </a>
                <ul class="sub-menu" id="services-megamenu"> 
                    <li>
                        <a href="/webdesign" class="sub-menu-item">
                            <img src="assets/Webdesign.png" alt="Webdesign Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">Webdesign</span>
                                <span class="sub-menu-description">Moderne, ansprechende Praxis-Websites</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="/webentwicklung" class="sub-menu-item">
                            <img src="assets/Webentwicklung.png" alt="Webentwicklung Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">Webentwicklung</span>
                                <span class="sub-menu-description">Robuste und skalierbare Online-Lösungen</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="/seo" class="sub-menu-item">
                            <img src="assets/SEO-Marketing.png" alt="SEO Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">SEO-Marketing</span>
                                <span class="sub-menu-description">Bessere Sichtbarkeit in Suchmaschinen</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="/branding" class="sub-menu-item">
                            <img src="assets/Branding.png" alt="Branding Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">Branding</span>
                                <span class="sub-menu-description">Einzigartige Markenidentität für Ihre Praxis</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="/softwareentwicklung" class="sub-menu-item">
                            <img src="assets/Softwareentwicklung.png" alt="Softwareentwicklung Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">Softwareentwicklung</span>
                                <span class="sub-menu-description">Maßgeschneiderte Software nach Bedarf</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="/wartung" class="sub-menu-item">
                            <img src="assets/WartungUndSupport.png" alt="Wartung Icon" class="sub-menu-icon">
                            <div class="sub-menu-text">
                                <span class="sub-menu-title">Wartung</span>
                                <span class="sub-menu-description">Zuverlässige Pflege und Support</span>
                            </div>
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="/blog" class="animated-nav-link"> <!-- animated-nav-link Klasse und Struktur für Animation hinzugefügt -->
                    <span class="text-original">Blog</span>
                    <span class="text-hover">Blog</span>
                </a>
            </li>
            <li>
                <a href="/kontakt" class="animated-nav-link"> <!-- animated-nav-link Klasse und Struktur für Animation hinzugefügt -->
                    <span class="text-original">Kontakt</span>
                    <span class="text-hover">Kontakt</span>
                </a>
            </li>
        </ul>
        <button id="navbutton" class="nav-button" aria-label="Button" class="button">
            <div class="text-container">
            <div class="text-original"></div>
            <div class="text-hover"></div>
            </div>
        </button>
    </nav>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            // Bestehendes Skript für die Hervorhebung des aktiven Links
            const navLinks = document.querySelectorAll('.nav-menu a'); // Alle Links im Navigationsmenü

            function normalizePath(path) {
                // Behandelt /index.html als Root ("/") für den Abgleich
                if (path === '/index.html') return '/';
                // Entfernt einen abschließenden Schrägstrich, außer beim Root-Pfad
                if (path.endsWith('/') && path.length > 1) {
                    return path.slice(0, -1);
                }
                return path;
            }

            const normalizedCurrentPath = normalizePath(currentPath);
            let activeSubMenuParentAnchor = null;

            // Zuerst prüfen wir, ob ein Untermenüpunkt aktiv ist
            navLinks.forEach(link => {
                const linkHref = link.getAttribute('href');
                if (!linkHref) return;

                const normalizedLinkPath = normalizePath(linkHref);

                if (normalizedLinkPath === normalizedCurrentPath) {
                    const parentSubMenu = link.closest('ul.sub-menu');
                    if (parentSubMenu) { // Es ist ein Untermenü-Link
                        link.classList.add('active-link'); // Untermenü-Link unterstreichen
                        const parentLi = parentSubMenu.parentElement; // Das <li>, das das <a> und <ul>.sub-menu enthält
                        if (parentLi) {
                            activeSubMenuParentAnchor = parentLi.querySelector('a'); // Der Hauptlink dieses Menüpunkts
                            if (activeSubMenuParentAnchor) {
                                activeSubMenuParentAnchor.classList.add('active-parent');
                            }
                        }
                    }
                }
            });

            // Dann prüfen wir die Hauptmenüpunkte
            // Ein Hauptmenüpunkt wird nur als 'active-link' markiert,
            // wenn er nicht bereits als 'active-parent' (durch ein aktives Kind) markiert wurde.
            if (!activeSubMenuParentAnchor) { // Nur wenn kein Untermenüpunkt aktiv war
                document.querySelectorAll('.nav-menu > li > a').forEach(link => {
                    const linkHref = link.getAttribute('href');
                    if (!linkHref) return;

                    const normalizedLinkPath = normalizePath(linkHref);

                    if (normalizedLinkPath === normalizedCurrentPath) {
                        link.classList.add('active-link');
                    }
                });
            }

            // --- BEGIN: JavaScript für dynamische Breitenanpassung der Navigationslinks ---
            const animatedNavLinks = document.querySelectorAll('.nav-menu a.animated-nav-link');

            function measureTextContentWidth(text, element) {
                const tempSpan = document.createElement('span');
                // Font-Stile für genaue Messung kopieren
                const computedStyle = window.getComputedStyle(element);
                tempSpan.style.fontFamily = computedStyle.fontFamily;
                tempSpan.style.fontSize = computedStyle.fontSize;
                tempSpan.style.fontWeight = computedStyle.fontWeight;
                tempSpan.style.letterSpacing = computedStyle.letterSpacing;
                tempSpan.style.whiteSpace = 'nowrap'; // Umbruch verhindern
                tempSpan.style.position = 'absolute'; // Layout nicht beeinflussen
                tempSpan.style.visibility = 'hidden'; // Nicht anzeigen
                tempSpan.style.left = '-9999px';      // Aus dem sichtbaren Bereich verschieben
                tempSpan.textContent = text;

                document.body.appendChild(tempSpan);
                const width = tempSpan.offsetWidth;
                document.body.removeChild(tempSpan);

                return width;
            }

            function adjustAnimatedLinkWidth(link) {
                const textOriginal = link.querySelector('.text-original');
                if (textOriginal) {
                    const textWidth = measureTextContentWidth(textOriginal.textContent, link);
                    const computedStyle = window.getComputedStyle(link);
                    const paddingLeft = parseFloat(computedStyle.paddingLeft);
                    const paddingRight = parseFloat(computedStyle.paddingRight);
                    const requiredTotalWidth = textWidth + paddingLeft + paddingRight;
                    link.style.width = `${requiredTotalWidth}px`;
                }
            }

            animatedNavLinks.forEach(link => {
                adjustAnimatedLinkWidth(link);
            });

            window.addEventListener('resize', () => {
                animatedNavLinks.forEach(link => adjustAnimatedLinkWidth(link));
            });
            // --- END: JavaScript für dynamische Breitenanpassung ---

            // NEU: Skript für animierte Navigationslinks (wie "Lösungen")
            animatedNavLinks.forEach(link => {
                const textOriginal = link.querySelector('.text-original');
                const textHover = link.querySelector('.text-hover');

                // Event-Listener nur hinzufügen, wenn die benötigte Span-Struktur vorhanden ist
                if (textOriginal && textHover) {
                    link.addEventListener('mouseenter', () => {
                        link.classList.remove('removingHover');
                        link.classList.add('hovered');
                    });

                    link.addEventListener('mouseleave', () => {
                        link.classList.remove('hovered');
                        link.classList.add('removingHover');

                        // Vorherigen Timeout löschen, falls vorhanden, um Konflikte zu vermeiden
                        if (link.removeHoverTimeoutId) {
                            clearTimeout(link.removeHoverTimeoutId);
                        }
                        // Die Klasse 'removingHover' nach Abschluss der CSS-Transition (0.4s) entfernen
                        link.removeHoverTimeoutId = setTimeout(() => {
                            link.classList.remove('removingHover');
                        }, 400); // Dauer entspricht der Transition in .nav-menu a.animated-nav-link .text-original/hover
                    });
                }
            });
        });
    </script>
    <style>
        button {
            width: 100px;
            height: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid #000;
            background: white;
            cursor: pointer;
            padding: 0;
            font-family: Arial, sans-serif;
            font-size: 14px;
            transition: transform 0.1s ease;
            box-shadow: 0 4px 4px #237fc1(0.3, 0.3, 0.3, 0.3);
        }

        button.hovered {
            transform: scale(0.95);
        }

        .text-container {
            height: 20px;
            line-height: 20px;
            overflow: hidden;
            position: relative;
            display: flex;
            justify-content: center;
        }

        .text-original, .text-hover {
            display: flex;
            position: absolute;
            left: 0;
            right: 0;
            justify-content: center;
        }

        .text-original {
            top: 0;
        }

        .text-hover {
            top: 20px;
        }

        .text-original span, .text-hover span {
            display: inline-block;
        }

        /* Keyframes bleiben gleich */
        @keyframes slideUp {
            from { transform: translateY(0); }
            to   { transform: translateY(-20px); }
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); }
            to   { transform: translateY(0); }
        }

        /* --- Hover (hochschieben von links nach rechts) --- */
        #navbutton.hovered .text-original span,
        #navbutton.hovered .text-hover span {
            animation: slideUp 0.5s ease forwards;  /* länger als vorher */
        }

        /* Hover Delay */
        #navbutton.hovered .text-original span:nth-child(1) { animation-delay: 0,001s; }
        #navbutton.hovered .text-original span:nth-child(2) { animation-delay: 0.022471s; }
        #navbutton.hovered .text-original span:nth-child(3) { animation-delay: 0.031282s; }
        #navbutton.hovered .text-original span:nth-child(4) { animation-delay: 0.038552s; }
        #navbutton.hovered .text-original span:nth-child(5) { animation-delay: 0.044847s; }
        #navbutton.hovered .text-original span:nth-child(6) { animation-delay: 0.050473s; }
        #navbutton.hovered .text-original span:nth-child(7) { animation-delay: 0.055488s; }
        #navbutton.hovered .text-original span:nth-child(8) { animation-delay: 0.060112s; }
        #navbutton.hovered .text-original span:nth-child(9) { animation-delay: 0.064392s; }
        #navbutton.hovered .text-original span:nth-child(10) { animation-delay: 0.06839s; }
        #navbutton.hovered .text-original span:nth-child(11) { animation-delay: 0.072154s; }
        #navbutton.hovered .text-original span:nth-child(12) { animation-delay: 0.075724s; }
        #navbutton.hovered .text-original span:nth-child(13) { animation-delay: 0.079132s; }
        #navbutton.hovered .text-original span:nth-child(14) { animation-delay: 0.082404s; }
        #navbutton.hovered .text-original span:nth-child(15) { animation-delay: 0.085563s; }
        #navbutton.hovered .text-original span:nth-child(16) { animation-delay: 0.088626s; }
        #navbutton.hovered .text-original span:nth-child(17) { animation-delay: 0.091609s; }
        #navbutton.hovered .text-original span:nth-child(18) { animation-delay: 0.094524s; }
        #navbutton.hovered .text-original span:nth-child(19) { animation-delay: 0.097383s; }
        #navbutton.hovered .text-original span:nth-child(20) { animation-delay: 0.100194s; }
        #navbutton.hovered .text-original span:nth-child(21) { animation-delay: 0.102966s; }
        #navbutton.hovered .text-original span:nth-child(22) { animation-delay: 0.105709s; }        

        #navbutton.hovered .text-hover span:nth-child(1) { animation-delay: 0.001s; }
        #navbutton.hovered .text-hover span:nth-child(2) { animation-delay: 0.022471s; }
        #navbutton.hovered .text-hover span:nth-child(3) { animation-delay: 0.031282s; }
        #navbutton.hovered .text-hover span:nth-child(4) { animation-delay: 0.038552s; }
        #navbutton.hovered .text-hover span:nth-child(5) { animation-delay: 0.044847s; }
        #navbutton.hovered .text-hover span:nth-child(6) { animation-delay: 0.050473s; }
        #navbutton.hovered .text-hover span:nth-child(7) { animation-delay: 0.055488s; }
        #navbutton.hovered .text-hover span:nth-child(8) { animation-delay: 0.060112s; }
        #navbutton.hovered .text-hover span:nth-child(9) { animation-delay: 0.064392s; }
        #navbutton.hovered .text-hover span:nth-child(10) { animation-delay: 0.06839s; }
        #navbutton.hovered .text-hover span:nth-child(11) { animation-delay: 0.072154s; }
        #navbutton.hovered .text-hover span:nth-child(12) { animation-delay: 0.075724s; }
        #navbutton.hovered .text-hover span:nth-child(13) { animation-delay: 0.079132s; }
        #navbutton.hovered .text-hover span:nth-child(14) { animation-delay: 0.082404s; }
        #navbutton.hovered .text-hover span:nth-child(15) { animation-delay: 0.08563s; }
        #navbutton.hovered .text-hover span:nth-child(16) { animation-delay: 0.088626s; }
        #navbutton.hovered .text-hover span:nth-child(17) { animation-delay: 0.091609s; }
        #navbutton.hovered .text-hover span:nth-child(18) { animation-delay: 0.094524s; }
        #navbutton.hovered .text-hover span:nth-child(19) { animation-delay: 0.097383s; }
        #navbutton.hovered .text-hover span:nth-child(20) { animation-delay: 0.100194s; }
        #navbutton.hovered .text-hover span:nth-child(21) { animation-delay: 0.102966s; }
        #navbutton.hovered .text-hover span:nth-child(22) { animation-delay: 0.105709s; }

        /* --- Mouseleave (runterschieben von links nach rechts) --- */
        #navbutton.removingHover .text-original span,
        #navbutton.removingHover .text-hover span {
            animation: slideDown 0.3s ease forwards;  /* länger als vorher */
        }
        /* Mouseleave Delay */
        #navbutton.removingHover .text-original span:nth-child(1) { animation-delay: 0.001s; }
        #navbutton.removingHover .text-original span:nth-child(2) { animation-delay: 0.022471s; }
        #navbutton.removingHover .text-original span:nth-child(3) { animation-delay: 0.031282s; }
        #navbutton.removingHover .text-original span:nth-child(4) { animation-delay: 0.038552s; }
        #navbutton.removingHover .text-original span:nth-child(5) { animation-delay: 0.044847s; }
        #navbutton.removingHover .text-original span:nth-child(6) { animation-delay: 0.050473s; }
        #navbutton.removingHover .text-original span:nth-child(7) { animation-delay: 0.055488s; }
        #navbutton.removingHover .text-original span:nth-child(8) { animation-delay: 0.060112s; }
        #navbutton.removingHover .text-original span:nth-child(9) { animation-delay: 0.064392s; }
        #navbutton.removingHover .text-original span:nth-child(10) { animation-delay: 0.06839s; }
        #navbutton.removingHover .text-original span:nth-child(11) { animation-delay: 0.072154s; }
        #navbutton.removingHover .text-original span:nth-child(12) { animation-delay: 0.075724s; }
        #navbutton.removingHover .text-original span:nth-child(13) { animation-delay: 0.079132s; }
        #navbutton.removingHover .text-original span:nth-child(14) { animation-delay: 0.082404s; }
        #navbutton.removingHover .text-original span:nth-child(15) { animation-delay: 0.08563s; }
        #navbutton.removingHover .text-original span:nth-child(16) { animation-delay: 0.088626s; }
        #navbutton.removingHover .text-original span:nth-child(17) { animation-delay: 0.091609s; }
        #navbutton.removingHover .text-original span:nth-child(18) { animation-delay: 0.094524s; }
        #navbutton.removingHover .text-original span:nth-child(19) { animation-delay: 0.097383s; }
        #navbutton.removingHover .text-original span:nth-child(20) { animation-delay: 0.100194s; }
        #navbutton.removingHover .text-original span:nth-child(21) { animation-delay: 0.102966s; }
        #navbutton.removingHover .text-original span:nth-child(22) { animation-delay: 0.105709s; }        

        #navbutton.removingHover .text-hover span:nth-child(1) { animation-delay: 0.001s; }
        #navbutton.removingHover .text-hover span:nth-child(2) { animation-delay: 0.022471s; }
        #navbutton.removingHover .text-hover span:nth-child(3) { animation-delay: 0.031282s; }
        #navbutton.removingHover .text-hover span:nth-child(4) { animation-delay: 0.038552s; }
        #navbutton.removingHover .text-hover span:nth-child(5) { animation-delay: 0.044847s; }
        #navbutton.removingHover .text-hover span:nth-child(6) { animation-delay: 0.050473s; }
        #navbutton.removingHover .text-hover span:nth-child(7) { animation-delay: 0.055488s; }
        #navbutton.removingHover .text-hover span:nth-child(8) { animation-delay: 0.060112s; }
        #navbutton.removingHover .text-hover span:nth-child(9) { animation-delay: 0.064392s; }
        #navbutton.removingHover .text-hover span:nth-child(10) { animation-delay: 0.06839s; }
        #navbutton.removingHover .text-hover span:nth-child(11) { animation-delay: 0.072154s; }
        #navbutton.removingHover .text-hover span:nth-child(12) { animation-delay: 0.075724s; }
        #navbutton.removingHover .text-hover span:nth-child(13) { animation-delay: 0.079132s; }
        #navbutton.removingHover .text-hover span:nth-child(14) { animation-delay: 0.082404s; }
        #navbutton.removingHover .text-hover span:nth-child(15) { animation-delay: 0.08563s; }
        #navbutton.removingHover .text-hover span:nth-child(16) { animation-delay: 0.088626s; }
        #navbutton.removingHover .text-hover span:nth-child(17) { animation-delay: 0.091609s; }
        #navbutton.removingHover .text-hover span:nth-child(18) { animation-delay: 0.094524s; }
        #navbutton.removingHover .text-hover span:nth-child(19) { animation-delay: 0.097383s; }
        #navbutton.removingHover .text-hover span:nth-child(20) { animation-delay: 0.100194s; }
        #navbutton.removingHover .text-hover span:nth-child(21) { animation-delay: 0.102966s; }
        #navbutton.removingHover .text-hover span:nth-child(22) { animation-delay: 0.105709s; }

        button#navbutton {
            /* Überschreibt generische 'button' Stile und definiert das spezifische Aussehen von navbutton */
            width: 150px;
            height: 40px;
            position: relative; /* Behält den Wert der generischen Regel bei, ist aber explizit */
            overflow: visible;  
            border: 2px solid #237fc1;
            background-color: #237fc1; /* Überschreibt generisches 'background: white;' */
            color: white;
            cursor: pointer;    /* Behält den Wert der generischen Regel bei, ist aber explizit */
            padding: 0;         /* Behält den Wert der generischen Regel bei, ist aber explizit */
            font-family: 'Open Sans', sans-serif; /* Überschreibt generisches 'Arial' */
            font-size: 15.5px;    /* Überschreibt generisches '14px' */
            font-weight: bold;
            border-radius: 10px;
            transition: transform 0.1s ease; /* Für den scale-Effekt von button.hovered (definiert als button.hovered) */
            box-shadow: none;   /* Entfernt den (fehlerhaften) generischen Schatten */
            text-transform: none;
            line-height: normal; /* Wichtig, da .text-container eine eigene line-height hat */
            text-align: center; /* Obwohl der Inhalt durch flex zentriert wird, ist es gut, dies zu setzen */
            vertical-align: initial;
        }
        .button {
            position: relative;
            width: 230px; /* Breite des Buttons */
            height: 50px; /* Höhe des Buttons */
            background-color: #237fc1; /* Hintergrundfarbe des Buttons */
            color: white; /* Textfarbe */
            border: 2px;
            border-color: #237fc1; 
            border-radius: 10px; /* Abgerundete Ecken */
            font-size: 18px; /* Schriftgröße */
            font-weight: bold; /* Fettdruck */
            cursor: pointer; /* Zeiger-Cursor beim Hover */
        }
    </style>

    <script>
        document.getElementById("navbutton").addEventListener("click", () => {
            window.location.href = "/formular";
        });
        
        const navtext = "Jetzt anfragen";
    
        function splitTextToSpans(container, text) {
            container.innerHTML = "";
            for (let char of navtext) {
                const span = document.createElement("span");
                // Leerzeichen als geschütztes Leerzeichen
                span.textContent = (char === " ") ? "\u00A0" : char;
                container.appendChild(span);
            }
        }
    
        const navbutton = document.getElementById("navbutton");
        const navoriginalContainer = navbutton.querySelector(".text-original");
        const navhoverContainer = navbutton.querySelector(".text-hover");
    
        splitTextToSpans(navoriginalContainer, navtext);
        splitTextToSpans(navhoverContainer, navtext);
    
        navbutton.addEventListener("mouseenter", () => {
            navbutton.classList.remove("removingHover");
            navbutton.classList.add("hovered");
        });
    
        navbutton.addEventListener("mouseleave", () => {
            navbutton.classList.remove("hovered");
            navbutton.classList.add("removingHover");
    
            setTimeout(() => {
                navbutton.classList.remove("removingHover");
            }, 500); // Puffer zur Sicherheit
        });
    </script>



    <section class="welcome-section">
        <div class="welcome-content">
            <div class="welcome-text">
                <p class="small-title">Die Erkenntnis</p>
                <h1 class="large-title">Das.<br>fehlende.<br>Puzzle-Teil.</h1>
            </div>
            <div class="welcome-icon-container">
                <img class="puzzle-icon" src="assets/Puzzle.png" alt="Das fehlende Puzzle-Teil">
            </div>
        </div>
    </section>

    <div class="small-title" id="LückeZweiterBereich">Ihre Probleme:</div>
    <div class="Bereichtitel">Stolpersteine im Praxisalltag</div>
    <div class="untertitel">Kommt Ihnen das bekannt vor?</div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/Patientenmangel.png" alt="Icon für Feature 1">
        </div>
        <div class="feature-text-content">
            <h3>1. Patientenmangel</h3>
            <p>Ihre Praxis hat <strong>Schwierigkeiten</strong>, ausreichend neue Patienten zu gewinnen, was zu <strong>leeren Terminkalendern</strong> und Unsicherheit führt. Dies erschwert nicht nur die <strong>Planung</strong>, sondern beeinträchtigt auch den reibungslosen Ablauf und die <strong>Moral im Team</strong> im Praxisalltag.</p>
        </div>
    </div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/keineZeit.png" alt="Icon für Feature 2" id="zuGroß">
        </div>
        <div class="feature-text-content">
            <h3>2. Zeitmangel</h3>
            <p><strong>Wichtige Aufgaben</strong> wie Abrechnung, Qualitätsmanagement oder Mitarbeiterführung bleiben oft liegen, da der hektische Praxisalltag kaum Raum für <strong>strategisches Denken</strong> oder vorausschauende Planung lässt. Entscheidungen werden häufig <strong>aufgeschoben</strong>, und die allgemeine <strong>Belastung</strong> für Sie und Ihr Team wächst stetig weiter.</p>
        </div>
    </div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/Kommunikationsdefizit.png" alt="Icon für Feature 3" id="zuHoch">
        </div>
        <div class="feature-text-content">
            <h3>3. Kommunikationsproblem</h3>
            <p>Patienten fühlen sich oft unzureichend informiert darüber, was gerade wichtig ist – seien es <strong>Terminänderungen</strong>, Urlaubszeiten oder neue Praxisangebote. Dieses <strong>Kommunikationsdefizit</strong> führt zu Missverständnissen, Verwirrung, Unsicherheit und letztlich zu <strong>unnötiger Mehrarbeit</strong> und Frustration für das gesamte Praxisteam.</p>
        </div>
    </div>    

    <div class="small-title" id="LückeDritterBereich">Ihre Lösung:</div>
    <div class="Bereichtitel">Ihre personalisierte Website</div>
    <div class="untertitel">Warum sich mit weniger zufriedengeben?</div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/Digitale Sichtbarkeit.png" alt="Icon für Feature 1">
        </div>
        <div class="feature-text-content">
            <h3>1. <span id="Farbe">Digtale</span> Sichtbarkeit</h3>
            <p>Eine professionelle Praxis-Website erhöht Ihre digitale Präsenz genau dort, wo potenzielle Patienten suchen – bei <stron>Google</stron>. Mit durchdachtem Aufbau, modernem Design und gezielter <strong>Suchmaschinenoptimierung</strong> (SEO) wird Ihre Praxis online sichtbar, überzeugend dargestellt und langfristig besser gefunden.</p>
        </div>
    </div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/Digitale Terminvereinbarung.png" alt="Icon für Feature 2" id="zuGroß">
        </div>
        <div class="feature-text-content">
            <h3>2. <span id="Farbe">Digitale</span> Terminvereinbarung</h3>
            <p>Mit einer digitalen Terminvereinbarung können Patienten jederzeit und unabhängig von Öffnungszeiten Termine anfragen – einfach, bequem und <strong>ohne Wartezeit am Telefon</strong>. Das entlastet das Praxisteam, reduziert Rückrufe und minimiert Terminchaos. Gleichzeitig entsteht ein moderner Service, der den Bedürfnissen Ihrer Patienten entspricht und Ihre Praxis professionell nach außen präsentiert. <strong>Weniger Verwaltungsaufwand , mehr Planbarkeit</strong> – für Patienten und Team.</p>
        </div>
    </div>

    <div class="feature-item">
        <div class="feature-icon">
            <img src="assets/Digitale Ankündigungen.png" alt="Icon für Feature 3" id="zuHoch">
        </div>
        <div class="feature-text-content">
            <h3>3. <span id="Farbe">Digtale</span> Ankündigungen</h3>
            <p>Direkt über die Website oder andere digitale Kanäle erreichen Ihre Patienten <strong>wichtige Informationen</strong> wie Urlaube, geänderte Sprechzeiten oder neue Leistungen genau dann, wenn es darauf ankommt. So bleiben sie informiert, ohne anrufen zu müssen. Gleichzeitig vermeiden Sie Missverständnisse, unnötige Anfragen und entlasten das Praxisteam. Digitale Ankündigungen schaffen <strong>Klarheit</strong> und zeigen, dass Ihre Praxis mit der Zeit geht.</p>
        </div>
    </div>

    <div class="großerTitel"><span id="Verfärbung">Lösen Sie Ihre Probleme.</span><br>Mit einem Klick.</div>

    <!-- FORMULAR ZUR EMAIL-ANFRAGE -->
    <form class="email-capture-form" id="emailForm" onsubmit="return false;">
        <!-- Wrapper für Input und Button -->
        <div class="email-input-button-wrapper">
            <input type="hidden" name="formtyp" value="emailanfrage">
            <input type="email" class="email-input" id="email" name="email" placeholder="E-Mail-Adresse angeben" required>
            <button type="button" class="email-submit-button" id="submitBtn" aria-label="Button" onclick="submitemailanfrage()">
                <div class="text-container">
                    <div class="text-original"></div>
                    <div class="text-hover"></div>
                    </div>
            </button>
        </div>

        <style>
            button {
                width: 100px;
                height: 20px;
                position: relative;
                overflow: hidden;
                border: 1px solid #000;
                background: white;
                cursor: pointer;
                padding: 0;
                font-family: Arial, sans-serif;
                font-size: 14px;
                transition: transform 0.1s ease;
                box-shadow: 0 4px 4px #237fc1(0.3, 0.3, 0.3, 0.3);
            }
            #submitBtn {
                width: 310px; /* Breite des Buttons */
                height: 50px; /* Höhe des Buttons */
                background-color: #237fc1; /* Hintergrundfarbe des Buttons */
                color: white; /* Textfarbe */
                border: 1px solid #237fc1; 
                border-radius: 30px; /* Abgerundete Ecken */
                font-size: 16px; /* Schriftgröße */
                font-weight: bold; /* Fettdruck */
            }
    
            button.hovered {
                transform: scale(0.95);
            }
    
            .text-container {
                height: 20px;
                line-height: 20px;
                overflow: hidden;
                position: relative;
                display: flex;
                justify-content: center;
            }
    
            .text-original, .text-hover {
                display: flex;
                position: absolute;
                left: 0;
                right: 0;
                justify-content: center;
            }
    
            .text-original {
                top: 0;
            }
    
            .text-hover {
                top: 20px;
            }
    
            .text-original span, .text-hover span {
                display: inline-block;
            }
    
            /* Keyframes bleiben gleich */
            @keyframes slideUp {
                from { transform: translateY(0); }
                to   { transform: translateY(-20px); }
            }
    
            @keyframes slideDown {
                from { transform: translateY(-20px); }
                to   { transform: translateY(0); }
            }
    
            /* --- Hover (hochschieben von links nach rechts) --- */
            #submitBtn.hovered .text-original span,
            #submitBtn.hovered .text-hover span {
                animation: slideUp 0.5s ease forwards;  /* länger als vorher */
            }
    
            /* Hover Delay */
            #submitBtn.hovered .text-original span:nth-child(1) { animation-delay: 0.001000s; }
            #submitBtn.hovered .text-original span:nth-child(2) { animation-delay: 0.001103s; }
            #submitBtn.hovered .text-original span:nth-child(3) { animation-delay: 0.001412s; }
            #submitBtn.hovered .text-original span:nth-child(4) { animation-delay: 0.001927s; }
            #submitBtn.hovered .text-original span:nth-child(5) { animation-delay: 0.002648s; }
            #submitBtn.hovered .text-original span:nth-child(6) { animation-delay: 0.003575s; }
            #submitBtn.hovered .text-original span:nth-child(7) { animation-delay: 0.004709s; }
            #submitBtn.hovered .text-original span:nth-child(8) { animation-delay: 0.006048s; }
            #submitBtn.hovered .text-original span:nth-child(9) { animation-delay: 0.007593s; }
            #submitBtn.hovered .text-original span:nth-child(10) { animation-delay: 0.009344s; }
            #submitBtn.hovered .text-original span:nth-child(11) { animation-delay: 0.011302s; }
            #submitBtn.hovered .text-original span:nth-child(12) { animation-delay: 0.013465s; }
            #submitBtn.hovered .text-original span:nth-child(13) { animation-delay: 0.015835s; }
            #submitBtn.hovered .text-original span:nth-child(14) { animation-delay: 0.018410s; }
            #submitBtn.hovered .text-original span:nth-child(15) { animation-delay: 0.021191s; }
            #submitBtn.hovered .text-original span:nth-child(16) { animation-delay: 0.024179s; }
            #submitBtn.hovered .text-original span:nth-child(17) { animation-delay: 0.027373s; }
            #submitBtn.hovered .text-original span:nth-child(18) { animation-delay: 0.030772s; }
            #submitBtn.hovered .text-original span:nth-child(19) { animation-delay: 0.034378s; }
            #submitBtn.hovered .text-original span:nth-child(20) { animation-delay: 0.038189s; }
            #submitBtn.hovered .text-original span:nth-child(21) { animation-delay: 0.042207s; }
            #submitBtn.hovered .text-original span:nth-child(22) { animation-delay: 0.046431s; }
            #submitBtn.hovered .text-original span:nth-child(23) { animation-delay: 0.050861s; }
            #submitBtn.hovered .text-original span:nth-child(24) { animation-delay: 0.055496s; }
            #submitBtn.hovered .text-original span:nth-child(25) { animation-delay: 0.060338s; }
            #submitBtn.hovered .text-original span:nth-child(26) { animation-delay: 0.065386s; }
            #submitBtn.hovered .text-original span:nth-child(27) { animation-delay: 0.070640s; }
            #submitBtn.hovered .text-original span:nth-child(28) { animation-delay: 0.076100s; }
            #submitBtn.hovered .text-original span:nth-child(29) { animation-delay: 0.081766s; }
            #submitBtn.hovered .text-original span:nth-child(30) { animation-delay: 0.087638s; }
            #submitBtn.hovered .text-original span:nth-child(31) { animation-delay: 0.093716s; }
            #submitBtn.hovered .text-original span:nth-child(32) { animation-delay: 0.100000s; }   
            
            
            #submitBtn.hovered .text-hover span:nth-child(1) { animation-delay: 0.001s; }
            #submitBtn.hovered .text-hover span:nth-child(2) { animation-delay: 0.001103s; }
            #submitBtn.hovered .text-hover span:nth-child(3) { animation-delay: 0.001412s; }
            #submitBtn.hovered .text-hover span:nth-child(4) { animation-delay: 0.001927s; }
            #submitBtn.hovered .text-hover span:nth-child(5) { animation-delay: 0.002648s; }
            #submitBtn.hovered .text-hover span:nth-child(6) { animation-delay: 0.003575s; }
            #submitBtn.hovered .text-hover span:nth-child(7) { animation-delay: 0.004709s; }
            #submitBtn.hovered .text-hover span:nth-child(8) { animation-delay: 0.006048s; }
            #submitBtn.hovered .text-hover span:nth-child(9) { animation-delay: 0.007593s; }
            #submitBtn.hovered .text-hover span:nth-child(10) { animation-delay: 0.009344s; }
            #submitBtn.hovered .text-hover span:nth-child(11) { animation-delay: 0.011302s; }
            #submitBtn.hovered .text-hover span:nth-child(12) { animation-delay: 0.013465s; }
            #submitBtn.hovered .text-hover span:nth-child(13) { animation-delay: 0.015835s; }
            #submitBtn.hovered .text-hover span:nth-child(14) { animation-delay: 0.018410s; }
            #submitBtn.hovered .text-hover span:nth-child(15) { animation-delay: 0.021191s; }
            #submitBtn.hovered .text-hover span:nth-child(16) { animation-delay: 0.024179s; }
            #submitBtn.hovered .text-hover span:nth-child(17) { animation-delay: 0.027373s; }
            #submitBtn.hovered .text-hover span:nth-child(18) { animation-delay: 0.030772s; }
            #submitBtn.hovered .text-hover span:nth-child(19) { animation-delay: 0.034378s; }
            #submitBtn.hovered .text-hover span:nth-child(20) { animation-delay: 0.038189s; }
            #submitBtn.hovered .text-hover span:nth-child(21) { animation-delay: 0.042207s; }
            #submitBtn.hovered .text-hover span:nth-child(22) { animation-delay: 0.046431s; }
            #submitBtn.hovered .text-hover span:nth-child(23) { animation-delay: 0.050861s; }
            #submitBtn.hovered .text-hover span:nth-child(24) { animation-delay: 0.055496s; }
            #submitBtn.hovered .text-hover span:nth-child(25) { animation-delay: 0.060338s; }
            #submitBtn.hovered .text-hover span:nth-child(26) { animation-delay: 0.065386s; }
            #submitBtn.hovered .text-hover span:nth-child(27) { animation-delay: 0.070640s; }
            #submitBtn.hovered .text-hover span:nth-child(28) { animation-delay: 0.076100s; }
            #submitBtn.hovered .text-hover span:nth-child(29) { animation-delay: 0.081766s; }
            #submitBtn.hovered .text-hover span:nth-child(30) { animation-delay: 0.087638s; }
            #submitBtn.hovered .text-hover span:nth-child(31) { animation-delay: 0.093716s; }
            #submitBtn.hovered .text-hover span:nth-child(32) { animation-delay: 0.100000s; }    
            /* --- Mouseleave (runterschieben von links nach rechts) --- */
            #submitBtn.removingHover .text-original span,
            #submitBtn.removingHover .text-hover span {
                animation: slideDown 0.3s ease forwards;  /* länger als vorher */
            }
    
            /* Mouseleave Delay */
            #submitBtn.removingHover .text-original span:nth-child(1) { animation-delay: 0.001s; }
            #submitBtn.removingHover .text-original span:nth-child(2) { animation-delay: 0.001103s; }
            #submitBtn.removingHover .text-original span:nth-child(3) { animation-delay: 0.001412s; }
            #submitBtn.removingHover .text-original span:nth-child(4) { animation-delay: 0.001927s; }
            #submitBtn.removingHover .text-original span:nth-child(5) { animation-delay: 0.002648s; }
            #submitBtn.removingHover .text-original span:nth-child(6) { animation-delay: 0.003575s; }
            #submitBtn.removingHover .text-original span:nth-child(7) { animation-delay: 0.004709s; }
            #submitBtn.removingHover .text-original span:nth-child(8) { animation-delay: 0.006048s; }
            #submitBtn.removingHover .text-original span:nth-child(9) { animation-delay: 0.007593s; }
            #submitBtn.removingHover .text-original span:nth-child(10) { animation-delay: 0.009344s; }
            #submitBtn.removingHover .text-original span:nth-child(11) { animation-delay: 0.011302s; }
            #submitBtn.removingHover .text-original span:nth-child(12) { animation-delay: 0.013465s; }
            #submitBtn.removingHover .text-original span:nth-child(13) { animation-delay: 0.015835s; }
            #submitBtn.removingHover .text-original span:nth-child(14) { animation-delay: 0.018410s; }
            #submitBtn.removingHover .text-original span:nth-child(15) { animation-delay: 0.021191s; }
            #submitBtn.removingHover .text-original span:nth-child(16) { animation-delay: 0.024179s; }
            #submitBtn.removingHover .text-original span:nth-child(17) { animation-delay: 0.027373s; }
            #submitBtn.removingHover .text-original span:nth-child(18) { animation-delay: 0.030772s; }
            #submitBtn.removingHover .text-original span:nth-child(19) { animation-delay: 0.034378s; }
            #submitBtn.removingHover .text-original span:nth-child(20) { animation-delay: 0.038189s; }
            #submitBtn.removingHover .text-original span:nth-child(21) { animation-delay: 0.042207s; }
            #submitBtn.removingHover .text-original span:nth-child(22) { animation-delay: 0.046431s; }
            #submitBtn.removingHover .text-original span:nth-child(23) { animation-delay: 0.050861s; }
            #submitBtn.removingHover .text-original span:nth-child(24) { animation-delay: 0.055496s; }
            #submitBtn.removingHover .text-original span:nth-child(25) { animation-delay: 0.060338s; }
            #submitBtn.removingHover .text-original span:nth-child(26) { animation-delay: 0.065386s; }
            #submitBtn.removingHover .text-original span:nth-child(27) { animation-delay: 0.070640s; }
            #submitBtn.removingHover .text-original span:nth-child(28) { animation-delay: 0.076100s; }
            #submitBtn.removingHover .text-original span:nth-child(29) { animation-delay: 0.081766s; }
            #submitBtn.removingHover .text-original span:nth-child(30) { animation-delay: 0.087638s; }
            #submitBtn.removingHover .text-original span:nth-child(31) { animation-delay: 0.093716s; }
            #submitBtn.removingHover .text-original span:nth-child(32) { animation-delay: 0.100000s; }
            
    
            #submitBtn.removingHover .text-hover span:nth-child(1) { animation-delay: 0.001s; }
            #submitBtn.removingHover .text-hover span:nth-child(2) { animation-delay: 0.001103s; }
            #submitBtn.removingHover .text-hover span:nth-child(3) { animation-delay: 0.001412s; }
            #submitBtn.removingHover .text-hover span:nth-child(4) { animation-delay: 0.001927s; }
            #submitBtn.removingHover .text-hover span:nth-child(5) { animation-delay: 0.002648s; }
            #submitBtn.removingHover .text-hover span:nth-child(6) { animation-delay: 0.003575s; }
            #submitBtn.removingHover .text-hover span:nth-child(7) { animation-delay: 0.004709s; }
            #submitBtn.removingHover .text-hover span:nth-child(8) { animation-delay: 0.006048s; }
            #submitBtn.removingHover .text-hover span:nth-child(9) { animation-delay: 0.007593s; }
            #submitBtn.removingHover .text-hover span:nth-child(10) { animation-delay: 0.009344s; }
            #submitBtn.removingHover .text-hover span:nth-child(11) { animation-delay: 0.011302s; }
            #submitBtn.removingHover .text-hover span:nth-child(12) { animation-delay: 0.013465s; }
            #submitBtn.removingHover .text-hover span:nth-child(13) { animation-delay: 0.015835s; }
            #submitBtn.removingHover .text-hover span:nth-child(14) { animation-delay: 0.018410s; }
            #submitBtn.removingHover .text-hover span:nth-child(15) { animation-delay: 0.021191s; }
            #submitBtn.removingHover .text-hover span:nth-child(16) { animation-delay: 0.024179s; }
            #submitBtn.removingHover .text-hover span:nth-child(17) { animation-delay: 0.027373s; }
            #submitBtn.removingHover .text-hover span:nth-child(18) { animation-delay: 0.030772s; }
            #submitBtn.removingHover .text-hover span:nth-child(19) { animation-delay: 0.034378s; }
            #submitBtn.removingHover .text-hover span:nth-child(20) { animation-delay: 0.038189s; }
            #submitBtn.removingHover .text-hover span:nth-child(21) { animation-delay: 0.042207s; }
            #submitBtn.removingHover .text-hover span:nth-child(22) { animation-delay: 0.046431s; }
            #submitBtn.removingHover .text-hover span:nth-child(23) { animation-delay: 0.050861s; }
            #submitBtn.removingHover .text-hover span:nth-child(24) { animation-delay: 0.055496s; }
            #submitBtn.removingHover .text-hover span:nth-child(25) { animation-delay: 0.060338s; }
            #submitBtn.removingHover .text-hover span:nth-child(26) { animation-delay: 0.065386s; }
            #submitBtn.removingHover .text-hover span:nth-child(27) { animation-delay: 0.070640s; }
            #submitBtn.removingHover .text-hover span:nth-child(28) { animation-delay: 0.076100s; }
            #submitBtn.removingHover .text-hover span:nth-child(29) { animation-delay: 0.081766s; }
            #submitBtn.removingHover .text-hover span:nth-child(30) { animation-delay: 0.087638s; }
            #submitBtn.removingHover .text-hover span:nth-child(31) { animation-delay: 0.093716s; }
            #submitBtn.removingHover .text-hover span:nth-child(32) { animation-delay: 0.100000s; } 

            .button {
                position: relative;
                width: 230px; /* Breite des Buttons */
                height: 50px; /* Höhe des Buttons */
                background-color: #237fc1; /* Hintergrundfarbe des Buttons */
                color: white; /* Textfarbe */
                border: 2px;
                border-color: #237fc1; 
                border-radius: 10px; /* Abgerundete Ecken */
                font-size: 18px; /* Schriftgröße */
                font-weight: bold; /* Fettdruck */
                cursor: pointer; /* Zeiger-Cursor beim Hover */
            }
                    /* Styles for the email capture section */
        .email-capture-form {
            max-width: 650px; /* Maximale Breite des gesamten Containers */
            margin: 3rem auto 5rem auto; /* Vertikaler Abstand und horizontale Zentrierung */
            padding: 0 1rem; /* Seitlicher Innenabstand für kleinere Bildschirme */
            /* display: flex; REMOVED - form is a block container now */
            /* align-items: center; REMOVED */
            /* background-color, border, etc. moved to a new inner wrapper */
        }

        /* New wrapper for input and button to retain visual style */
        .email-input-button-wrapper {
            display: flex;
            align-items: center;
            background-color: #fff; /* Weißer Hintergrund für das Feld */
            border: 3px solid #000; /* Dicker schwarzer Rand */
            border-radius: 40px;    /* Starke Abrundung */
            padding: 5px;           /* Innenabstand, der als "Rand" für den Button dient */
            box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* Optional: ein dezenter Schatten */
        }

        .email-input {
            flex-grow: 1; /* Nimmt den verfügbaren Platz ein */
            border: none;
            outline: none;
            background-color: transparent; /* Wichtig, da das Formular den Hintergrund hat */
            padding: 15px 15px;    /* Erhöhter Innenabstand für mehr Höhe */
            font-size: 1.1rem;     /* Leicht größere Schrift für bessere Proportion */
            color: #333;
        }

        .email-input::placeholder {
            color: #777;
            /* font-style: italic; */ /* Optional */
        }

        /* Styling für Fehlermeldungen innerhalb des E-Mail-Formulars */
        .email-capture-form .error-message {
            display: none; /* Initial versteckt */
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
            text-align: left;
            width: 100%;
            box-sizing: border-box;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start; /* Checkbox und Label-Wrapper oben ausrichten */
            margin-top: 10px; /* Reduzierter Abstand, da E-Mail-Fehler eigenen Platz hat */
            margin-left: 23px; /* Startet auf gleicher horizontaler Höhe wie Text im E-Mail-Input (3px Border + 5px Padding des Wrappers + 15px Padding des Inputs) */
            justify-content: flex-start; /* Links ausrichten innerhalb der Formularbreite */
        }

        .checkbox-group.hidden {
            display: none !important;
        }

        .checkbox-group input[type="checkbox"] {
            margin-top: 0.2em; /* Bessere Ausrichtung mit der ersten Textzeile */
            flex-shrink: 0;
        }

        .label-error-wrapper {
            display: flex;
            flex-direction: column; /* Label und Fehler untereinander */
            margin-left: 10px; /* Abstand von der Checkbox zum Label-Block */
            flex-grow: 1; /* Nimmt restlichen Platz ein für das Label und die Fehlermeldung darunter */
        }

        input.error,
        textarea.error {
            border-color: red !important;
        }

        .error-message {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }
        /* Spezifisches Styling für die E-Mail-Fehlermeldung */
        #emailErrorMessage {
            padding-left: 15px; /* Einzug passend zum Text im Input-Feld */
            padding-right: 15px;
            margin-bottom: 10px; /* Abstand zur Checkbox-Gruppe */
        }

        .checkbox-group label {
            margin-left: 0; /* Wird jetzt vom .label-error-wrapper gehandhabt */
            font-size: 0.9rem;
            line-height: 1.4;
            text-align: left;
        }

        .email-submit-button {
            background-color: #237fc1; /* Gewünschte Button-Farbe */
            color: #fff;
            border: none;
            border-radius: 25px;    /* (30px vom Formular - 5px Padding vom Formular) -> ergibt eine passende innere Rundung. Für exakt gleiche Rundung: 30px */
            /* Wenn exakt die gleiche Rundung wie das äußere Feld gewünscht ist, verwenden Sie: border-radius: 30px; */
            padding: 15px 20px;     /* Erhöhter Innenabstand für mehr Höhe, passend zum Input */
            cursor: pointer;
            font-size: 1rem;        /* Leicht größere Schrift, passend zum Input */
            font-weight: 500;
            white-space: nowrap;    /* Verhindert Textumbruch im Button */
            flex-shrink: 0;         /* Verhindert, dass der Button bei Platzmangel schrumpft */
            transition: background-color 0.2s ease-in-out;
            width: auto; /* Breite automatisch an Inhalt und Padding anpassen */
            height: auto; /* Höhe automatisch an Inhalt und Padding anpassen */
            position: static; /* Standardpositionierung, falls 'button' 'relative' setzt */
            overflow: visible; /* Standard-Overflow, falls 'button' 'hidden' setzt */
            font-family: inherit; /* Schriftart von Elternelement erben (sollte Open Sans sein) */
            box-shadow: none; /* Keinen Schatten vom allgemeinen 'button'-Stil übernehmen */

        }

        .email-submit-button:hover {
            background-color: #0e467b; /* Dunklere Farbe beim Hover, passend zu .nav-button a:hover */
        }
        </style>
    
    <script>
        const emailtext = "Kostenloses Erstgespräch sichern";
      
        function splitTextToSpans(container, text) {
          container.innerHTML = "";
          for (let char of text) {
            const span = document.createElement("span");
            span.textContent = (char === " ") ? "\u00A0" : char;
            container.appendChild(span);
          }
        }
      
        window.addEventListener("DOMContentLoaded", () => {
            const emailSubmitButton = document.getElementById("submitBtn");
            if (emailSubmitButton) {
                const emailOriginalContainer = emailSubmitButton.querySelector(".text-original");
                const emailHoverContainer = emailSubmitButton.querySelector(".text-hover");
        
                splitTextToSpans(emailOriginalContainer, emailtext);
                splitTextToSpans(emailHoverContainer, emailtext);

                emailSubmitButton.addEventListener("mouseenter", () => {
                    emailSubmitButton.classList.remove("removingHover");
                    emailSubmitButton.classList.add("hovered");
                });
        
                emailSubmitButton.addEventListener("mouseleave", () => {
                    emailSubmitButton.classList.remove("hovered");
                    emailSubmitButton.classList.add("removingHover");
        
                    // Timeout, um die .removingHover Klasse nach der Animation zu entfernen
                    if (emailSubmitButton.removeHoverTimeout) {
                        clearTimeout(emailSubmitButton.removeHoverTimeout);
                    }
                    emailSubmitButton.removeHoverTimeout = setTimeout(() => {
                        emailSubmitButton.classList.remove("removingHover");
                    }, 500); // Die slideDown Animation dauert 0.3s, 500ms Puffer ist sicher.
                });
          }
        });
      </script>
        <!-- E-Mail-Fehlermeldung -->
        <span class="error-message" id="emailErrorMessage"></span>

        <!-- Checkbox-Gruppe außerhalb des Input-Wrappers, aber innerhalb des Formulars -->
        <div class="form-group checkbox-group hidden">
            <input type="checkbox" id="agb" name="agb" required>
            <div class="label-error-wrapper">
                <label for="agb">Ich habe die AGB und die Datenschutzerklärung gelesen und akzeptiere sie.</label>
                <span class="error-message" id="agbErrorMessage"></span>
            </div>
        </div>
    </form>

    <script>
        let isSubmitting = false;

        // Hilfsfunktion für E-Mail-Validierung
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function submitemailanfrage() {
            if (isSubmitting) return;

            const form = document.getElementById('emailForm');
            const emailInput = document.getElementById('email');
            const agbCheckbox = document.getElementById('agb');
            const submitBtn = document.getElementById('submitBtn');

            const emailErrorMessage = document.getElementById('emailErrorMessage');
            const agbErrorMessage = document.getElementById('agbErrorMessage'); // ID verwenden
            const checkboxGroup = agbCheckbox.closest('.checkbox-group');


            // --- Validierung starten ---
            let isValid = true;

            // 1. Vorherige Fehlerstatus zurücksetzen
            if (emailErrorMessage) {
                emailErrorMessage.textContent = '';
                emailErrorMessage.style.display = 'none';
            }
            emailInput.classList.remove('error');

            if (agbErrorMessage) { // agbErrorMessage ist jetzt der Span mit der ID
                agbErrorMessage.textContent = '';
                agbErrorMessage.style.display = 'none';
            }
            agbCheckbox.classList.remove('error');

            // 2. E-Mail-Validierung
            const emailValue = emailInput.value.trim();
            if (emailValue === '') {
                if (emailErrorMessage) {
                    emailErrorMessage.textContent = 'Bitte geben Sie Ihre E-Mail-Adresse ein.';
                    emailErrorMessage.style.display = 'block';
                }
                emailInput.classList.add('error');
                isValid = false;
            } else if (!isValidEmail(emailValue)) {
                if (emailErrorMessage) {
                    emailErrorMessage.textContent = 'Bitte geben Sie eine gültige E-Mail-Adresse ein.';
                    emailErrorMessage.style.display = 'block';
                }
                emailInput.classList.add('error');
                isValid = false;
            }

            // 3. AGB-Checkbox prüfen, nur wenn sie sichtbar ist (d.h. E-Mail-Feld ist nicht leer)
            if (emailValue !== '' && !agbCheckbox.checked) {
                if (agbErrorMessage) {
                    agbErrorMessage.textContent = 'Bitte stimmen Sie den AGB und der Datenschutzerklärung zu.';
                    agbErrorMessage.style.display = 'block';
                }
                agbCheckbox.classList.add('error');
                isValid = false;
            }
            if (!isValid) {
                return; // Versand stoppen, wenn ein Validierungsfehler aufgetreten ist
            }

            // --- Validierung erfolgreich, jetzt als "submitting" markieren ---
            isSubmitting = true; // Erst jetzt als "submitting" markieren
            submitBtn.disabled = true; // Button deaktivieren
            submitBtn.textContent = 'Wird gesendet...'; // Button-Text ändern

            const formData = new FormData(form);

            fetch('https://script.google.com/macros/s/AKfycbwydlNOvGaqa-vBJ-94kxJAYJHPC8Q7PR8QMjIXtMbYdkGc82JPtkkLZzz9ZC0pqm4Z/exec', {
                method: 'POST',
                body: formData,
            })
            .then(response => response.text())
            .then(result => {
                console.log('Erfolg:', result);
                window.location.href = 'email-bestätigung.html'; // Erfolgreich weiterleiten
            })
            .catch(error => {
                console.error('Fehler beim Senden:', error);
                alert('Beim Absenden ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.');
                isSubmitting = false; // Submission-Flag zurücksetzen
                submitBtn.disabled = false; // Button wieder aktivieren
                submitBtn.textContent = 'Kostenloses Erstgespräch sichern'; // Button-Text zurücksetzen
            });
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const emailInput = document.getElementById('email');
            const emailForm = document.getElementById('emailForm');
            const checkboxGroup = emailForm ? emailForm.querySelector('.checkbox-group') : null;

            if (emailInput && checkboxGroup) {
                const updateVisibility = () => {
                    // Anzeigen, nur wenn das Feld einen Wert hat
                    if (emailInput.value.trim() !== '') {
                        checkboxGroup.classList.remove('hidden');
                    } else {
                        checkboxGroup.classList.add('hidden');
                    }
                };

                updateVisibility(); // Initialen Status setzen
                emailInput.addEventListener('focus', updateVisibility);
                emailInput.addEventListener('input', updateVisibility);
                emailInput.addEventListener('blur', updateVisibility);
            }
        });
    </script>
    <!-- ENDE NEUES EINGABEFELD MIT BUTTON -->
</body>
</html>